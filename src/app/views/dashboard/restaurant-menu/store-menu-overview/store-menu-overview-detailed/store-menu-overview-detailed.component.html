<div class="row">
    <div class="col-md-12">
        <h3 class="std-heading-3"> Overview 
            <img src="../../../../../assets/images/ico_help.png"
            style="cursor:pointer" title="info" (click)="modalService.open(content, { centered: true });">
        </h3>
    </div>
</div>
<div class="row">
    <div class="col-md-3">
        <select class="custom-select form-control form-input form-input--select-input" style="margin-top:28px;margin-bottom: 24px;">
            <option> Select </option>
        </select>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="table-responsive">
            <table class="table custom-table">
                <!-------------------- parent box ---------------------------->
                <tr style="cursor: pointer;">
                    <td width= "10px" align="left" (click)="toggleClass()"> 
                        <img [src]= "dropdownChild ? right_image : down_image" />                   
                    </td>
                    <td style="padding: 16px 0px;" class="std-heading-4"> Salad </td>
                    <td align="right">         
                        <div class="dropdown">
                        <img src="../../../../../../assets/images/menu-icons/ico_black_overflow.png" class="dropdown-toggle"
                            data-toggle="dropdown" title="Options">
                            <ul class="dropdown-menu dropdown-edit dropdown-menu-right">
                                <li class="herf-class" title="Edit" (click)="modalService.open(editCategory, { centered: true });">
                                    <img src="../../../../../assets/images/ico_edit.png">&nbsp;&nbsp;
                                    Edit item
                                </li>
                                <li title="Delete" class="herf-class">
                                    <img src="../../../../../assets/images/ico_cancel.png">&nbsp;&nbsp;
                                    Remove item
                                </li>
                            </ul>
                        </div>                           
                    </td>
                </tr>
                <!--------------------- parent box end --------------------------------------->
                <!--------------------- children dropdown box ------------------------------->
                <tr [hidden]="dropdownChild">
                    <td colspan="3" class="tdsingle-row std-heading-5"> 
                        <table class="inside-table"> 
                            <tr>
                                <td> Salad </td>
                                <td align="right"> $11.99 </td>
                                <td align="right" width="20px"> 
                                    <div class="dropdown">
                                        <img src="../../../../../../assets/images/menu-icons/ico_black_overflow.png" class="dropdown-toggle"
                                        data-toggle="dropdown" title="Options">
                                        <ul class="dropdown-menu dropdown-edit dropdown-menu-right">
                                            <li class="herf-class" title="Edit" (click)="modalService.open(editItem, { centered: true });">
                                                <img src="../../../../../assets/images/ico_edit.png">&nbsp;&nbsp;
                                                Edit item
                                            </li>
                                            <li title="Delete" class="herf-class">
                                                <img src="../../../../../assets/images/ico_cancel.png">&nbsp;&nbsp;
                                                Remove items
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td> Salad </td>
                                <td align="right"> $11.99 </td>
                                <td align="right" width="20px"> <img src="../../../../../../assets/images/menu-icons/ico_black_overflow.png" > </td>
                            </tr>
                            <tr>
                                <td> Salad </td>
                                <td align="right"> $11.99 </td>
                                <td align="right" width="20px"> <img src="../../../../../../assets/images/menu-icons/ico_black_overflow.png" > </td>
                            </tr>
                        </table>
                    </td>               
                </tr>
                <!----------------------------- children dropdown box end ------------------------->
            </table>
        </div>
    </div>
</div>

<!-- Edit  parent category -->
<ng-template #editCategory let-modal>
    <div class="modal-header header-info">
        <div class="std-heading-4 std-heading-5--popheader"> Edit category </div>
        <button type="button" class="close info-q" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true"><img src="../../../../../assets/images/x.png"></span>
        </button>
    </div>
    <div class="modal-body">
            <div class="row">
                <div class="col-md-12">
                    <h5 class="std-heading-5" style="margin-top:24px;"> Name </h5>
                    <input type="text" class="form-control form-input">
                </div>
            </div> 
            <div class="row">
                <div class="col-md-12">
                    <h4 class="std-heading-4" style="margin-top:64px;margin-bottom: 32px;"> Menus </h4>
                    <div class="label-inputs"> Menus this category will appear in: </div>
                    <div  class="menu-creator__days" >
                        <div class="custom-checkbox mr-2">
                            <input type="checkbox" >
                            <label class="custom-checkbox__label std-heading-4" > Lunch </label>
                        </div>
                        <div class="custom-checkbox mr-2">
                            <input type="checkbox" >
                            <label class="custom-checkbox__label std-heading-4"> Dinner </label>
                        </div>
                    </div>
                </div>
            </div> 
            <div class="row">
                <div class="col-md-12">
                    <div style="float: right;margin-top:48px">
                        <button type="button" class="btn std-button std-button--transparency" style="margin-right:16px">Cancel</button>
                        <button class="btn std-button std-button--primary">Save</button>
                    </div>
                </div>
            </div> 
    </div>
</ng-template>
<!--end  Edit  parent category -->

<!-- Edit  child item -->
<ng-template #editItem let-modal>
    <div class="modal-header header-info">
        <div class="std-heading-4 std-heading-5--popheader"> Edit item </div>
        <button type="button" class="close info-q" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true"><img src="../../../../../assets/images/x.png"></span>
        </button>
    </div>
    <div class="modal-body">
        <div form>
            <div class="row">                 
                <div class="col-md-12">
                    <div class="input-container" style="margin-bottom:16px;">
                        <label class="label-inputs"> Name </label>
                        <input type="text" class="form-control form-input">
                        <span class="error-mez" >Item name is required.</span>
                    </div>  
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <h4 class="std-heading-4" style="margin-top:56px;margin-bottom:32px;"> Item details </h4>
                    <div class="std-heading-5" style="margin-bottom:16px;"> Photo </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="d-flex flex-row">                    
                                <div class="upload-image" (click)="imageUrl? '' : fileInput.click()" >
                                    <img class="ud-image" *ngIf="imageUrl; else imageNotFound" [src]="imageUrl">     
                                    <ng-template #imageNotFound>
                                        <img src="assets/images/ico_add_blue.png">     
                                        <div class="std-heading-5" style="color:#353FA8;">Upload an image</div>
                                    </ng-template>
                                </div>
                                <div class="response-padding" style="margin-left:20px;">
                                    <span style="font-size:14px"> JPG, PNG or GIF up to 5mb.<br> Minimum size 500&times;500 pixels. </span>
                                    <div class="mt-3">
                                        <button class="btn std-button std-button--primary" (click)="fileInput.click()" > Browse </button> 
                                        <button class="btn std-button std-button--transparency" style="margin-left:10px;" *ngIf="imageUrl"  (click)="imageUrl = null"> Remove </button>
                                        <input style="display: none" id="file" type="file" (change)="onFileChanged($event)" #fileInput accept=".jpg,.jpeg,.png,.gif">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-10">
                            <div class="form-group" style="margin-top:32px">
                                <div class="std-heading-5" style="margin-bottom:16px;" > Description </div>
                                <textarea class="form-control form-input" placeholder="Enter description" style="height:96px;"></textarea>
                            </div>
                            <div class="form-group" style="margin-top:32px">
                                <div class="std-heading-5" style="margin-bottom:16px;"> Keywords </div>
                                <textarea class="form-control form-input" placeholder="Enter search keywords separated by comma e. g. italian, pasta" style="height:96px;"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group" style="margin-top:32px">
                                <div class="label-inputs"> Base price </div>
                                <div class="prefixed-input">
                                    <span class="prefixed-input__prefix">$</span>
                                    <input class="form-control form-input prefixed-input__input prefixed-input__input" type="number" formControlName="itemBasePrice" placeholder="09.11" >
                                  </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group" style="margin-top:32px">
                                <div class="label-inputs"> Is item in stock </div>
                                <div class="menu-creator__days">
                                    <div class="custom-radio">
                                        <input type="radio" id="yes" name="itemStock" value="1" checked>
                                        <label class="custom-radio__label" for="yes">Yes</label>
                                    </div>
                                    <div class="custom-radio pd-left">
                                        <input type="radio" id="no" name="itemStock" value="0" >
                                        <label class="custom-radio__label" for="no">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-7">
                            <div class="form-group" style="margin-top:32px">
                                <div class="label-inputs"> Sell item on it's own? <img src="../../../../../assets/images/ico_help.png" style="cursor:pointer;width:14px;height:14px;" title="info" (click)="openVerticallyCentered(content)"> </div>
                                <div class="menu-creator__days">
                                    <div class="custom-radio" >
                                        <input type="radio" id="sellYes" name="sellitem" value="1" checked>
                                        <label class="custom-radio__label" for="sellYes">Yes</label>
                                    </div>
                                    <div class="custom-radio pd-left">
                                        <input type="radio" id="sellNo" name="sellitem" formControlName="sellitem" value="0" >
                                        <label class="custom-radio__label" for="sellNo">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <ng-container>
                        <div class="row">
                            <div class="col-md-12">
                                <h4 class="std-heading-4" style="margin-top:56px;margin-bottom: 32px;"> Categories <img src="../../../../../assets/images/ico_help.png" style="cursor:pointer;" title="info" (click)="opencategoryCentered(category)"></h4>
                                <p class="paragraph" style="margin-bottom: 32px;"> Items may appear in one or more categories. </p>
                                <div class="label-inputs"> This item will be appear in: </div>
                                <div class="menu-creator__days" >
                                    <div class="custom-checkbox mr-2">
                                        <input type="checkbox" >
                                        <label class="custom-checkbox__label std-heading-4"> djfkdvfsd </label>
                                    </div>
                                </div>
                                <!-- <div *ngIf="categoryIdMap?.length==0">No categories found.</div> -->
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <h4 class="std-heading-4" style="margin-top:56px;margin-bottom: 32px;"> Modifier groups <img src="../../../../../assets/images/ico_help.png" style="cursor:pointer;" title="info" (click)="openmodifierCentered(modifier)"></h4>
                                <p class="paragraph" style="margin-bottom: 32px;"> Modifiers allow you to add sides, sizes and more to your menu items. </p>
                                <div class="label-inputs" > This item will be available with:</div>
                               <!-- <div  formArrayName="modifier" class="menu-creator__days"  (click)="createItemForm.controls.modifier.markAsTouched({onlySelf: true});">
                                    <div class="custom-checkbox pd-left" *ngFor="let control of modifierForm(); let i = index;">
                                        <input type="checkbox" id="modifer_id_{{i}}"  name="modifier_id_{{i}}" [formControlName]="i">
                                        <label class="custom-checkbox__label std-heading-4" for="modifer_id_{{i}}">{{modifierIdMap[i].name}}</label>
                                    </div>
                                </div>
                               <div *ngIf="modifierIdMap?.length==0">No modifier found.</div> -->
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div style="float: right;margin-top:48px">
                                    <button type="button" class="btn std-button std-button--transparency" style="margin-right:16px">Cancel</button>
                                    <button class="btn std-button std-button--primary">Save</button>
                                </div>
                            </div>
                        </div> 
                    </ng-container>
                </div>
            </div>           
        </div>
    </div>
</ng-template>
<!--end  Edit  child item -->




<!-- Info modal -->
<ng-template #content let-modal>
    <div class="modal-header header-info">
        <div class="std-heading-4 std-heading-5--popheader"> Overview </div>
        <button type="button" class="close info-q" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true"><img src="../../../../../assets/images/x.png"></span>
        </button>
    </div>
    <div class="modal-body">
        <p class="paragraph">
            You may rename and reorder categories and items here to update the menu in the app.
        </p>
        <p class="paragraph">
            You can start building in any order, however before your menu appears here in the overview, and 
            in the app, you must link a menu to a category and that category to some items.
        </p>
        <div class="std-heading-5">Menu</div>
        <p class="paragraph resnt-menu-overview-list__smry">Add new menus (e.g. breakfast, lunch and
            dinner).
        </p>
        <div class="std-heading-5">Categories</div>
        <p class="paragraph resnt-menu-overview-list__smry">Add categories and select which menus they
            appear
            in.
        </p>
        <div class="std-heading-5">Items</div>
        <p class="resnt-menu-overview-list__smry">Add items and select which categories they appear in.</p>
        <div class="std-heading-5">Modifier groups</div>
        <p class="paragraph resnt-menu-overview-list__smry">Add options for your items (e.g. extras, sauce
            and
            size).</p>
    </div>
</ng-template>
<!-- Info modal end-->

