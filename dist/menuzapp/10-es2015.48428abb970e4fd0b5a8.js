(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{GujJ:function(e,t,r){"use strict";r.r(t),r.d(t,"ThirdFormsModule",(function(){return y}));var n=r("ofXK"),i=r("tyNb"),s=r("3Pt+"),o=r("fXoL"),a=r("tk/3"),l=r("n6ga"),m=r("3LUQ"),d=r("ej43");function c(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275text"](1," Please enter owner name "),o["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",24),o["\u0275\u0275template"](1,c,2,0,"div",25),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.f.ownerName.errors.required)}}function p(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275text"](1," Please enter business name "),o["\u0275\u0275elementEnd"]())}function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",24),o["\u0275\u0275template"](1,p,2,0,"div",25),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.f.businessName.errors.required)}}function h(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275text"](1," Please enter ABN or ACN "),o["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",24),o["\u0275\u0275template"](1,h,2,0,"div",25),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.f.ABNnumber.errors.required)}}function g(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",26),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate1"](" ",e.selectedFileName," ")}}function v(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",26),o["\u0275\u0275text"](1," No file selected "),o["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275text"](1," Checkbox is required "),o["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div",24),o["\u0275\u0275template"](1,w,2,0,"div",25),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",e.f.checkownership.errors.required)}}const N=function(e){return{"is-invalid":e}},x=i.f.forChild([{path:"",component:(()=>{class e{constructor(e,t,r,n,i,s,o){this.router=e,this.http=t,this.route=r,this.formBuilder=n,this.restApiservice=i,this.alertservice=s,this.authenticateService=o,this.ownernameSubmit=!1,this.businessnameSubmit=!1,this.ABNnumberSubmit=!1,this.checkownershipSubmit=!1,this.fileSubmit=!1,this.thirdformError=!1,this.errors=new Array,this.store_id=this.route.snapshot.paramMap.get("store-id"),this.add_edit_type=this.route.snapshot.queryParams.type||""}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"",localStorage.getItem("Audit_Auth")&&localStorage.getItem("loggedUser")&&this.getownershipform(),this.ownershipform=this.formBuilder.group({ownerName:["",s.s.required],businessName:["",s.s.required],ABNnumber:["",s.s.required],checkownership:[!1,s.s.requiredTrue]})}get f(){return this.ownershipform.controls}ownerShip(){if(this.ownernameSubmit=!0,this.businessnameSubmit=!0,this.ABNnumberSubmit=!0,this.checkownershipSubmit=!0,this.ownershipform.invalid)return;let e=new FormData;e.append("document",this.selectedFile,this.selectedFile.name),this.restApiservice.pushSaveFileToStorageWithFormdata(e,"store/update/10/file/upload",e=>{if(e&&e.success&&e.data){let t={legal_owner_name:this.ownershipform.value.ownerName,legal_business_name:this.ownershipform.value.businessName,business_register_number:this.ownershipform.value.ABNnumber,certificate_of_registration:e.data};this.alertservice.showLoader(),this.restApiservice.putAPI("store/update/"+this.store_id+"/ownership-proof",t,e=>{if(e&&e.success&&e.data)return this.alertservice.hideLoader(),this.router.navigateByUrl("/store/step3/"+e.data.store_id+"/"+e.data.next_step);if(e&&!e.success&&e.error.error)for(let t in e.error.error)this.thirdformError=!0,this.errors[t]=e.error.error[t][0],this.alertservice.showNotification(this.errors[t],"error");else this.alertservice.showNotification("Something went wrong","error");this.alertservice.hideLoader()})}})}backTostore(){this.alertservice.showLoader(),this.restApiservice.getData("store/details/step1/"+this.store_id,e=>{if(e&&e.success&&e.data)return this.alertservice.hideLoader(),this.router.navigateByUrl("/store/step1/"+this.store_id+"?type=edit");if(e&&!e.success&&e.error.error)for(let t in e.error.error)this.thirdformError=!0,this.errors[t]=e.error.error[t][0],this.alertservice.showNotification(this.errors[t],"error");else this.alertservice.showNotification("Something went wrong","error");this.alertservice.hideLoader()})}getownershipform(){this.restApiservice.getData("store/details/step2/"+this.store_id,e=>{e&&e.success&&e.data&&e.data.forEach(e=>{this.legalOwnerName=e.legal_owner_name,this.legalBuinessName=e.legal_business_name,this.legalRegNumber=e.business_register_number,this.legalFile=e.certificate_of_registration,this.ownershipform.get("ownerName").setValue(this.legalOwnerName),this.ownershipform.get("businessName").setValue(this.legalBuinessName),this.ownershipform.get("ABNnumber").setValue(this.legalRegNumber)})})}onFileChanged(e){this.selectedFile=e.target.files[0],this.selectedFile&&(this.selectedFileName=this.selectedFile.name)}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.b),o["\u0275\u0275directiveInject"](a.a),o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](s.d),o["\u0275\u0275directiveInject"](l.a),o["\u0275\u0275directiveInject"](m.a),o["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-third-forms"]],decls:59,vars:19,consts:[[3,"formGroup","ngSubmit"],[1,"form-header","pb-5"],[1,"pb-2"],[1,"form-group"],[1,"label-inputs"],[1,"m-star"],["type","text","formControlName","ownerName",1,"form-control","form-input",3,"ngClass"],["class","error-mez",4,"ngIf"],["type","text","formControlName","businessName",1,"form-control","form-input",3,"ngClass"],["type","text","formControlName","ABNnumber",1,"form-control","form-input",3,"ngClass"],[1,"label-inputs","pb-4"],[1,"d-flex","flex-row","pb-2"],["title","Upload file",1,"select-file","p-2",2,"border-color","none !important",3,"click"],[1,"fa","fa-upload"],["class","p-2 fnt-14",4,"ngIf"],[1,"checkbox"],[2,"margin-bottom","0"],["type","checkbox","formControlName","checkownership",3,"ngClass"],["href","#"],[1,"pt-2"],["type","button","value","Back",1,"btn","re-send",3,"click"],["type","submit","value","Save and continue",1,"btn","btn-custom-login",2,"margin-left","10px"],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"error-mez"],[4,"ngIf"],[1,"p-2","fnt-14"]],template:function(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275element"](0,"br"),o["\u0275\u0275element"](1,"br"),o["\u0275\u0275elementStart"](2,"form",0),o["\u0275\u0275listener"]("ngSubmit",(function(){return t.ownerShip()})),o["\u0275\u0275elementStart"](3,"h1",1),o["\u0275\u0275text"](4," Add proof of ownership "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"p",2),o["\u0275\u0275text"](6," The details provided here will help us approve your store application. You may complete this step now or press "),o["\u0275\u0275elementStart"](7,"b"),o["\u0275\u0275text"](8,"save and continue "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275text"](9," to complete later. "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"div",3),o["\u0275\u0275elementStart"](11,"label",4),o["\u0275\u0275text"](12," Legal owner name "),o["\u0275\u0275elementStart"](13,"b",5),o["\u0275\u0275text"](14,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](15,"input",6),o["\u0275\u0275template"](16,u,2,1,"div",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](17,"div",3),o["\u0275\u0275elementStart"](18,"label",4),o["\u0275\u0275text"](19," Legal business name "),o["\u0275\u0275elementStart"](20,"b",5),o["\u0275\u0275text"](21,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](22,"input",8),o["\u0275\u0275template"](23,f,2,1,"div",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](24,"div",3),o["\u0275\u0275elementStart"](25,"label",4),o["\u0275\u0275text"](26," ABN or ACN(Australian Business or Company Number) "),o["\u0275\u0275elementStart"](27,"b",5),o["\u0275\u0275text"](28,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](29,"input",9),o["\u0275\u0275template"](30,b,2,1,"div",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"div",3),o["\u0275\u0275elementStart"](32,"label",10),o["\u0275\u0275text"](33," Certification of registration "),o["\u0275\u0275elementStart"](34,"b",5),o["\u0275\u0275text"](35,"*"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](36,"p"),o["\u0275\u0275text"](37," Please upload a copy of your certificate of registration for this business. "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](38,"div",3),o["\u0275\u0275elementStart"](39,"div",11),o["\u0275\u0275elementStart"](40,"div",12),o["\u0275\u0275listener"]("click",(function(){return o["\u0275\u0275restoreView"](e),o["\u0275\u0275reference"](58).click()})),o["\u0275\u0275element"](41,"i",13),o["\u0275\u0275text"](42,"\xa0\xa0\xa0 Upload file "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](43,g,2,1,"div",14),o["\u0275\u0275template"](44,v,2,0,"div",14),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](45,"div",3),o["\u0275\u0275elementStart"](46,"div",15),o["\u0275\u0275elementStart"](47,"label",16),o["\u0275\u0275element"](48,"input",17),o["\u0275\u0275text"](49," \xa0 I Understand and agree to the "),o["\u0275\u0275elementStart"](50,"a",18),o["\u0275\u0275text"](51," Lorem ipsum terms "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](52,S,2,1,"div",7),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](53,"div",3),o["\u0275\u0275elementStart"](54,"div",19),o["\u0275\u0275elementStart"](55,"input",20),o["\u0275\u0275listener"]("click",(function(){return t.backTostore()})),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](56,"input",21),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](57,"input",22,23),o["\u0275\u0275listener"]("change",(function(e){return t.onFileChanged(e)})),o["\u0275\u0275elementEnd"]()}2&e&&(o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("formGroup",t.ownershipform),o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](11,N,t.ownernameSubmit&&t.f.ownerName.errors)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.ownernameSubmit&&t.f.ownerName.errors),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](13,N,t.businessnameSubmit&&t.f.businessName.errors)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.businessnameSubmit&&t.f.businessName.errors),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](15,N,t.ABNnumberSubmit&&t.f.ABNnumber.errors)),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.ABNnumberSubmit&&t.f.ABNnumber.errors),o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("ngIf",t.selectedFile&&t.selectedFileName),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",!t.selectedFile&&!t.selectedFileName),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngClass",o["\u0275\u0275pureFunction1"](17,N,t.checkownershipSubmit&&t.f.checkownership.errors)),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("ngIf",t.checkownershipSubmit&&t.f.checkownership.errors))},directives:[s.u,s.k,s.f,s.b,s.j,s.e,n.h,n.j,s.a],styles:[".form-header[_ngcontent-%COMP%]{font-family:DM Sans;font-style:normal;font-weight:700;font-size:36px;line-height:48px}.re-send[_ngcontent-%COMP%]{color:#353fa8;background:#fafafa;font-weight:600;border-radius:0}.btn-custom-login[_ngcontent-%COMP%]{color:#fff;background:#353fa8;border-radius:0}.upload-file-btn[_ngcontent-%COMP%]{background:#fafafa;font-weight:600;border-radius:0}.select-file[_ngcontent-%COMP%], .upload-file-btn[_ngcontent-%COMP%]{color:#353fa8;border:2px solid #f2f2f2}.select-file[_ngcontent-%COMP%]{width:160px;text-align:center;float:left;cursor:pointer;font-size:16px;background:#fff}.fnt-14[_ngcontent-%COMP%]{font-size:14px}.select-file.is-invalid[_ngcontent-%COMP%]{border-color:none!important}"]}),e})()}]);let y=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[n.b,x,s.p,s.g]]}),e})()}}]);