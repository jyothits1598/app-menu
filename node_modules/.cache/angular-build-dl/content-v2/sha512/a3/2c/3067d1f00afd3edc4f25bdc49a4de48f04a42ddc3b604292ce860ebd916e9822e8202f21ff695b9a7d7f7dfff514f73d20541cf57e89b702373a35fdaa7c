function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{GujJ:function(e,t,r){"use strict";r.r(t),r.d(t,"ThirdFormsModule",(function(){return E}));var n=r("ofXK"),i=r("tyNb"),o=r("3Pt+"),a=r("fXoL"),s=r("tk/3"),l=r("n6ga"),m=r("3LUQ"),c=r("ej43");function d(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1," Please enter owner name "),a["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275template"](1,d,2,0,"div",25),a["\u0275\u0275elementEnd"]()),2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.f.ownerName.errors.required)}}function f(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1," Please enter business name "),a["\u0275\u0275elementEnd"]())}function p(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275template"](1,f,2,0,"div",25),a["\u0275\u0275elementEnd"]()),2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.f.businessName.errors.required)}}function h(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1," Please enter ABN or ACN "),a["\u0275\u0275elementEnd"]())}function v(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275template"](1,h,2,0,"div",25),a["\u0275\u0275elementEnd"]()),2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.f.ABNnumber.errors.required)}}function b(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",r.selectedFileName," ")}}function g(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",26),a["\u0275\u0275text"](1," No file selected "),a["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1," Checkbox is required "),a["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275template"](1,w,2,0,"div",25),a["\u0275\u0275elementEnd"]()),2&e){var r=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",r.f.checkownership.errors.required)}}var y,N,x=function(e){return{"is-invalid":e}},C=i.f.forChild([{path:"",component:(y=function(){function e(t,r,n,i,o,a,s){_classCallCheck(this,e),this.router=t,this.http=r,this.route=n,this.formBuilder=i,this.restApiservice=o,this.alertservice=a,this.authenticateService=s,this.ownernameSubmit=!1,this.businessnameSubmit=!1,this.ABNnumberSubmit=!1,this.checkownershipSubmit=!1,this.fileSubmit=!1,this.thirdformError=!1,this.errors=new Array,this.store_id=this.route.snapshot.paramMap.get("store-id"),this.add_edit_type=this.route.snapshot.queryParams.type||""}return _createClass(e,[{key:"ngOnInit",value:function(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"",localStorage.getItem("Audit_Auth")&&localStorage.getItem("loggedUser")&&this.getownershipform(),this.ownershipform=this.formBuilder.group({ownerName:["",o.s.required],businessName:["",o.s.required],ABNnumber:["",o.s.required],checkownership:[!1,o.s.requiredTrue]})}},{key:"ownerShip",value:function(){var e=this;if(this.ownernameSubmit=!0,this.businessnameSubmit=!0,this.ABNnumberSubmit=!0,this.checkownershipSubmit=!0,!this.ownershipform.invalid){var t=new FormData;t.append("document",this.selectedFile,this.selectedFile.name),this.restApiservice.pushSaveFileToStorageWithFormdata(t,"store/update/10/file/upload",(function(t){if(t&&t.success&&t.data){var r={legal_owner_name:e.ownershipform.value.ownerName,legal_business_name:e.ownershipform.value.businessName,business_register_number:e.ownershipform.value.ABNnumber,certificate_of_registration:t.data};e.alertservice.showLoader(),e.restApiservice.putAPI("store/update/"+e.store_id+"/ownership-proof",r,(function(t){if(t&&t.success&&t.data)return e.alertservice.hideLoader(),e.router.navigateByUrl("/store/step3/"+t.data.store_id+"/"+t.data.next_step);if(t&&!t.success&&t.error.error)for(var r in t.error.error)e.thirdformError=!0,e.errors[r]=t.error.error[r][0],e.alertservice.showNotification(e.errors[r],"error");else e.alertservice.showNotification("Something went wrong","error");e.alertservice.hideLoader()}))}}))}}},{key:"backTostore",value:function(){var e=this;this.alertservice.showLoader(),this.restApiservice.getData("store/details/step1/"+this.store_id,(function(t){if(t&&t.success&&t.data)return e.alertservice.hideLoader(),e.router.navigateByUrl("/store/step1/"+e.store_id+"?type=edit");if(t&&!t.success&&t.error.error)for(var r in t.error.error)e.thirdformError=!0,e.errors[r]=t.error.error[r][0],e.alertservice.showNotification(e.errors[r],"error");else e.alertservice.showNotification("Something went wrong","error");e.alertservice.hideLoader()}))}},{key:"getownershipform",value:function(){var e=this;this.restApiservice.getData("store/details/step2/"+this.store_id,(function(t){t&&t.success&&t.data&&t.data.forEach((function(t){e.legalOwnerName=t.legal_owner_name,e.legalBuinessName=t.legal_business_name,e.legalRegNumber=t.business_register_number,e.legalFile=t.certificate_of_registration,e.ownershipform.get("ownerName").setValue(e.legalOwnerName),e.ownershipform.get("businessName").setValue(e.legalBuinessName),e.ownershipform.get("ABNnumber").setValue(e.legalRegNumber)}))}))}},{key:"onFileChanged",value:function(e){this.selectedFile=e.target.files[0],this.selectedFile&&(this.selectedFileName=this.selectedFile.name)}},{key:"f",get:function(){return this.ownershipform.controls}}]),e}(),y.\u0275fac=function(e){return new(e||y)(a["\u0275\u0275directiveInject"](i.b),a["\u0275\u0275directiveInject"](s.a),a["\u0275\u0275directiveInject"](i.a),a["\u0275\u0275directiveInject"](o.d),a["\u0275\u0275directiveInject"](l.a),a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](c.a))},y.\u0275cmp=a["\u0275\u0275defineComponent"]({type:y,selectors:[["app-third-forms"]],decls:59,vars:19,consts:[[3,"formGroup","ngSubmit"],[1,"form-header","pb-5"],[1,"pb-2"],[1,"form-group"],[1,"label-inputs"],[1,"m-star"],["type","text","formControlName","ownerName",1,"form-control","form-input",3,"ngClass"],["class","error-mez",4,"ngIf"],["type","text","formControlName","businessName",1,"form-control","form-input",3,"ngClass"],["type","text","formControlName","ABNnumber",1,"form-control","form-input",3,"ngClass"],[1,"label-inputs","pb-4"],[1,"d-flex","flex-row","pb-2"],["title","Upload file",1,"select-file","p-2",2,"border-color","none !important",3,"click"],[1,"fa","fa-upload"],["class","p-2 fnt-14",4,"ngIf"],[1,"checkbox"],[2,"margin-bottom","0"],["type","checkbox","formControlName","checkownership",3,"ngClass"],["href","#"],[1,"pt-2"],["type","button","value","Back",1,"btn","re-send",3,"click"],["type","submit","value","Save and continue",1,"btn","btn-custom-login",2,"margin-left","10px"],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"error-mez"],[4,"ngIf"],[1,"p-2","fnt-14"]],template:function(e,t){if(1&e){var r=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275element"](0,"br"),a["\u0275\u0275element"](1,"br"),a["\u0275\u0275elementStart"](2,"form",0),a["\u0275\u0275listener"]("ngSubmit",(function(){return t.ownerShip()})),a["\u0275\u0275elementStart"](3,"h1",1),a["\u0275\u0275text"](4," Add proof of ownership "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"p",2),a["\u0275\u0275text"](6," The details provided here will help us approve your store application. You may complete this step now or press "),a["\u0275\u0275elementStart"](7,"b"),a["\u0275\u0275text"](8,"save and continue "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275text"](9," to complete later. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"div",3),a["\u0275\u0275elementStart"](11,"label",4),a["\u0275\u0275text"](12," Legal owner name "),a["\u0275\u0275elementStart"](13,"b",5),a["\u0275\u0275text"](14,"*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](15,"input",6),a["\u0275\u0275template"](16,u,2,1,"div",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](17,"div",3),a["\u0275\u0275elementStart"](18,"label",4),a["\u0275\u0275text"](19," Legal business name "),a["\u0275\u0275elementStart"](20,"b",5),a["\u0275\u0275text"](21,"*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](22,"input",8),a["\u0275\u0275template"](23,p,2,1,"div",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](24,"div",3),a["\u0275\u0275elementStart"](25,"label",4),a["\u0275\u0275text"](26," ABN or ACN(Australian Business or Company Number) "),a["\u0275\u0275elementStart"](27,"b",5),a["\u0275\u0275text"](28,"*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](29,"input",9),a["\u0275\u0275template"](30,v,2,1,"div",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](31,"div",3),a["\u0275\u0275elementStart"](32,"label",10),a["\u0275\u0275text"](33," Certification of registration "),a["\u0275\u0275elementStart"](34,"b",5),a["\u0275\u0275text"](35,"*"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](36,"p"),a["\u0275\u0275text"](37," Please upload a copy of your certificate of registration for this business. "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](38,"div",3),a["\u0275\u0275elementStart"](39,"div",11),a["\u0275\u0275elementStart"](40,"div",12),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](r),a["\u0275\u0275reference"](58).click()})),a["\u0275\u0275element"](41,"i",13),a["\u0275\u0275text"](42,"\xa0\xa0\xa0 Upload file "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](43,b,2,1,"div",14),a["\u0275\u0275template"](44,g,2,0,"div",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](45,"div",3),a["\u0275\u0275elementStart"](46,"div",15),a["\u0275\u0275elementStart"](47,"label",16),a["\u0275\u0275element"](48,"input",17),a["\u0275\u0275text"](49," \xa0 I Understand and agree to the "),a["\u0275\u0275elementStart"](50,"a",18),a["\u0275\u0275text"](51," Lorem ipsum terms "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](52,S,2,1,"div",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](53,"div",3),a["\u0275\u0275elementStart"](54,"div",19),a["\u0275\u0275elementStart"](55,"input",20),a["\u0275\u0275listener"]("click",(function(){return t.backTostore()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](56,"input",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](57,"input",22,23),a["\u0275\u0275listener"]("change",(function(e){return t.onFileChanged(e)})),a["\u0275\u0275elementEnd"]()}2&e&&(a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("formGroup",t.ownershipform),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](11,x,t.ownernameSubmit&&t.f.ownerName.errors)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.ownernameSubmit&&t.f.ownerName.errors),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](13,x,t.businessnameSubmit&&t.f.businessName.errors)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.businessnameSubmit&&t.f.businessName.errors),a["\u0275\u0275advance"](6),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](15,x,t.ABNnumberSubmit&&t.f.ABNnumber.errors)),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.ABNnumberSubmit&&t.f.ABNnumber.errors),a["\u0275\u0275advance"](13),a["\u0275\u0275property"]("ngIf",t.selectedFile&&t.selectedFileName),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.selectedFile&&!t.selectedFileName),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngClass",a["\u0275\u0275pureFunction1"](17,x,t.checkownershipSubmit&&t.f.checkownership.errors)),a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngIf",t.checkownershipSubmit&&t.f.checkownership.errors))},directives:[o.u,o.k,o.f,o.b,o.j,o.e,n.h,n.j,o.a],styles:[".form-header[_ngcontent-%COMP%]{font-family:DM Sans;font-style:normal;font-weight:700;font-size:36px;line-height:48px}.re-send[_ngcontent-%COMP%]{color:#353fa8;background:#fafafa;font-weight:600;border-radius:0}.btn-custom-login[_ngcontent-%COMP%]{color:#fff;background:#353fa8;border-radius:0}.upload-file-btn[_ngcontent-%COMP%]{background:#fafafa;font-weight:600;border-radius:0}.select-file[_ngcontent-%COMP%], .upload-file-btn[_ngcontent-%COMP%]{color:#353fa8;border:2px solid #f2f2f2}.select-file[_ngcontent-%COMP%]{width:160px;text-align:center;float:left;cursor:pointer;font-size:16px;background:#fff}.fnt-14[_ngcontent-%COMP%]{font-size:14px}.select-file.is-invalid[_ngcontent-%COMP%]{border-color:none!important}"]}),y)}]),E=((N=function e(){_classCallCheck(this,e)}).\u0275mod=a["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},imports:[[n.b,C,o.p,o.g]]}),N)}}]);