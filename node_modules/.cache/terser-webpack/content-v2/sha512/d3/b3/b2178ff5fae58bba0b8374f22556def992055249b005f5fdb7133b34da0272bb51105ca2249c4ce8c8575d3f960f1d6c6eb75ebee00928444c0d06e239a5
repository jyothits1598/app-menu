{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{GujJ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ThirdFormsModule\",(function(){return third_forms_module_ThirdFormsModule}));var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),core=__webpack_require__(\"fXoL\"),http=__webpack_require__(\"tk/3\"),rest_api_service=__webpack_require__(\"n6ga\"),alert_service=__webpack_require__(\"3LUQ\"),authentication_service=__webpack_require__(\"ej43\");function ThirdFormsComponent_div_16_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\" Please enter owner name \"),core[\"ɵɵelementEnd\"]())}function ThirdFormsComponent_div_16_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,ThirdFormsComponent_div_16_div_1_Template,2,0,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r0.f.ownerName.errors.required)}}function ThirdFormsComponent_div_23_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\" Please enter business name \"),core[\"ɵɵelementEnd\"]())}function ThirdFormsComponent_div_23_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,ThirdFormsComponent_div_23_div_1_Template,2,0,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r1.f.businessName.errors.required)}}function ThirdFormsComponent_div_30_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\" Please enter ABN or ACN \"),core[\"ɵɵelementEnd\"]())}function ThirdFormsComponent_div_30_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,ThirdFormsComponent_div_30_div_1_Template,2,0,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.f.ABNnumber.errors.required)}}function ThirdFormsComponent_div_43_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",26),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r3=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r3.selectedFileName,\" \")}}function ThirdFormsComponent_div_44_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",26),core[\"ɵɵtext\"](1,\" No file selected \"),core[\"ɵɵelementEnd\"]())}function ThirdFormsComponent_div_52_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1,\" Checkbox is required \"),core[\"ɵɵelementEnd\"]())}function ThirdFormsComponent_div_52_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,ThirdFormsComponent_div_52_div_1_Template,2,0,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r5=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r5.f.checkownership.errors.required)}}const _c0=function(a0){return{\"is-invalid\":a0}},thirdformRouting=router.f.forChild([{path:\"\",component:(()=>{class ThirdFormsComponent{constructor(router,http,route,formBuilder,restApiservice,alertservice,authenticateService){this.router=router,this.http=http,this.route=route,this.formBuilder=formBuilder,this.restApiservice=restApiservice,this.alertservice=alertservice,this.authenticateService=authenticateService,this.ownernameSubmit=!1,this.businessnameSubmit=!1,this.ABNnumberSubmit=!1,this.checkownershipSubmit=!1,this.fileSubmit=!1,this.thirdformError=!1,this.errors=new Array,this.store_id=this.route.snapshot.paramMap.get(\"store-id\"),this.add_edit_type=this.route.snapshot.queryParams.type||\"\"}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||\"\",localStorage.getItem(\"Audit_Auth\")&&localStorage.getItem(\"loggedUser\")&&this.getownershipform(),this.ownershipform=this.formBuilder.group({ownerName:[\"\",fesm2015_forms.s.required],businessName:[\"\",fesm2015_forms.s.required],ABNnumber:[\"\",fesm2015_forms.s.required],checkownership:[!1,fesm2015_forms.s.requiredTrue]})}get f(){return this.ownershipform.controls}ownerShip(){if(this.ownernameSubmit=!0,this.businessnameSubmit=!0,this.ABNnumberSubmit=!0,this.checkownershipSubmit=!0,this.ownershipform.invalid)return;let form_data=new FormData;form_data.append(\"document\",this.selectedFile,this.selectedFile.name),this.restApiservice.pushSaveFileToStorageWithFormdata(form_data,\"store/update/10/file/upload\",response=>{if(response&&response.success&&response.data){let data={legal_owner_name:this.ownershipform.value.ownerName,legal_business_name:this.ownershipform.value.businessName,business_register_number:this.ownershipform.value.ABNnumber,certificate_of_registration:response.data};this.alertservice.showLoader(),this.restApiservice.putAPI(\"store/update/\"+this.store_id+\"/ownership-proof\",data,response=>{if(response&&response.success&&response.data)return this.alertservice.hideLoader(),this.router.navigateByUrl(\"/store/step3/\"+response.data.store_id+\"/\"+response.data.next_step);if(response&&!response.success&&response.error.error)for(let key in response.error.error)this.thirdformError=!0,this.errors[key]=response.error.error[key][0],this.alertservice.showNotification(this.errors[key],\"error\");else this.alertservice.showNotification(\"Something went wrong\",\"error\");this.alertservice.hideLoader()})}})}backTostore(){this.alertservice.showLoader(),this.restApiservice.getData(\"store/details/step1/\"+this.store_id,response=>{if(response&&response.success&&response.data)return this.alertservice.hideLoader(),this.router.navigateByUrl(\"/store/step1/\"+this.store_id+\"?type=edit\");if(response&&!response.success&&response.error.error)for(let key in response.error.error)this.thirdformError=!0,this.errors[key]=response.error.error[key][0],this.alertservice.showNotification(this.errors[key],\"error\");else this.alertservice.showNotification(\"Something went wrong\",\"error\");this.alertservice.hideLoader()})}getownershipform(){this.restApiservice.getData(\"store/details/step2/\"+this.store_id,response=>{response&&response.success&&response.data&&response.data.forEach(element=>{this.legalOwnerName=element.legal_owner_name,this.legalBuinessName=element.legal_business_name,this.legalRegNumber=element.business_register_number,this.legalFile=element.certificate_of_registration,this.ownershipform.get(\"ownerName\").setValue(this.legalOwnerName),this.ownershipform.get(\"businessName\").setValue(this.legalBuinessName),this.ownershipform.get(\"ABNnumber\").setValue(this.legalRegNumber)})})}onFileChanged(event){this.selectedFile=event.target.files[0],this.selectedFile&&(this.selectedFileName=this.selectedFile.name)}}return ThirdFormsComponent.ɵfac=function(t){return new(t||ThirdFormsComponent)(core[\"ɵɵdirectiveInject\"](router.b),core[\"ɵɵdirectiveInject\"](http.a),core[\"ɵɵdirectiveInject\"](router.a),core[\"ɵɵdirectiveInject\"](fesm2015_forms.d),core[\"ɵɵdirectiveInject\"](rest_api_service.a),core[\"ɵɵdirectiveInject\"](alert_service.a),core[\"ɵɵdirectiveInject\"](authentication_service.a))},ThirdFormsComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:ThirdFormsComponent,selectors:[[\"app-third-forms\"]],decls:59,vars:19,consts:[[3,\"formGroup\",\"ngSubmit\"],[1,\"form-header\",\"pb-5\"],[1,\"pb-2\"],[1,\"form-group\"],[1,\"label-inputs\"],[1,\"m-star\"],[\"type\",\"text\",\"formControlName\",\"ownerName\",1,\"form-control\",\"form-input\",3,\"ngClass\"],[\"class\",\"error-mez\",4,\"ngIf\"],[\"type\",\"text\",\"formControlName\",\"businessName\",1,\"form-control\",\"form-input\",3,\"ngClass\"],[\"type\",\"text\",\"formControlName\",\"ABNnumber\",1,\"form-control\",\"form-input\",3,\"ngClass\"],[1,\"label-inputs\",\"pb-4\"],[1,\"d-flex\",\"flex-row\",\"pb-2\"],[\"title\",\"Upload file\",1,\"select-file\",\"p-2\",2,\"border-color\",\"none !important\",3,\"click\"],[1,\"fa\",\"fa-upload\"],[\"class\",\"p-2 fnt-14\",4,\"ngIf\"],[1,\"checkbox\"],[2,\"margin-bottom\",\"0\"],[\"type\",\"checkbox\",\"formControlName\",\"checkownership\",3,\"ngClass\"],[\"href\",\"#\"],[1,\"pt-2\"],[\"type\",\"button\",\"value\",\"Back\",1,\"btn\",\"re-send\",3,\"click\"],[\"type\",\"submit\",\"value\",\"Save and continue\",1,\"btn\",\"btn-custom-login\",2,\"margin-left\",\"10px\"],[\"type\",\"file\",2,\"display\",\"none\",3,\"change\"],[\"fileInput\",\"\"],[1,\"error-mez\"],[4,\"ngIf\"],[1,\"p-2\",\"fnt-14\"]],template:function(rf,ctx){if(1&rf){const _r11=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelement\"](0,\"br\"),core[\"ɵɵelement\"](1,\"br\"),core[\"ɵɵelementStart\"](2,\"form\",0),core[\"ɵɵlistener\"](\"ngSubmit\",(function(){return ctx.ownerShip()})),core[\"ɵɵelementStart\"](3,\"h1\",1),core[\"ɵɵtext\"](4,\" Add proof of ownership \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](5,\"p\",2),core[\"ɵɵtext\"](6,\" The details provided here will help us approve your store application. You may complete this step now or press \"),core[\"ɵɵelementStart\"](7,\"b\"),core[\"ɵɵtext\"](8,\"save and continue \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](9,\" to complete later. \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](10,\"div\",3),core[\"ɵɵelementStart\"](11,\"label\",4),core[\"ɵɵtext\"](12,\" Legal owner name \"),core[\"ɵɵelementStart\"](13,\"b\",5),core[\"ɵɵtext\"](14,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelement\"](15,\"input\",6),core[\"ɵɵtemplate\"](16,ThirdFormsComponent_div_16_Template,2,1,\"div\",7),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](17,\"div\",3),core[\"ɵɵelementStart\"](18,\"label\",4),core[\"ɵɵtext\"](19,\" Legal business name \"),core[\"ɵɵelementStart\"](20,\"b\",5),core[\"ɵɵtext\"](21,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelement\"](22,\"input\",8),core[\"ɵɵtemplate\"](23,ThirdFormsComponent_div_23_Template,2,1,\"div\",7),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](24,\"div\",3),core[\"ɵɵelementStart\"](25,\"label\",4),core[\"ɵɵtext\"](26,\" ABN or ACN(Australian Business or Company Number) \"),core[\"ɵɵelementStart\"](27,\"b\",5),core[\"ɵɵtext\"](28,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelement\"](29,\"input\",9),core[\"ɵɵtemplate\"](30,ThirdFormsComponent_div_30_Template,2,1,\"div\",7),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](31,\"div\",3),core[\"ɵɵelementStart\"](32,\"label\",10),core[\"ɵɵtext\"](33,\" Certification of registration \"),core[\"ɵɵelementStart\"](34,\"b\",5),core[\"ɵɵtext\"](35,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](36,\"p\"),core[\"ɵɵtext\"](37,\" Please upload a copy of your certificate of registration for this business. \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](38,\"div\",3),core[\"ɵɵelementStart\"](39,\"div\",11),core[\"ɵɵelementStart\"](40,\"div\",12),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r11),core[\"ɵɵreference\"](58).click()})),core[\"ɵɵelement\"](41,\"i\",13),core[\"ɵɵtext\"](42,\"    Upload file \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](43,ThirdFormsComponent_div_43_Template,2,1,\"div\",14),core[\"ɵɵtemplate\"](44,ThirdFormsComponent_div_44_Template,2,0,\"div\",14),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](45,\"div\",3),core[\"ɵɵelementStart\"](46,\"div\",15),core[\"ɵɵelementStart\"](47,\"label\",16),core[\"ɵɵelement\"](48,\"input\",17),core[\"ɵɵtext\"](49,\"   I Understand and agree to the \"),core[\"ɵɵelementStart\"](50,\"a\",18),core[\"ɵɵtext\"](51,\" Lorem ipsum terms \"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](52,ThirdFormsComponent_div_52_Template,2,1,\"div\",7),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](53,\"div\",3),core[\"ɵɵelementStart\"](54,\"div\",19),core[\"ɵɵelementStart\"](55,\"input\",20),core[\"ɵɵlistener\"](\"click\",(function(){return ctx.backTostore()})),core[\"ɵɵelementEnd\"](),core[\"ɵɵelement\"](56,\"input\",21),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](57,\"input\",22,23),core[\"ɵɵlistener\"](\"change\",(function($event){return ctx.onFileChanged($event)})),core[\"ɵɵelementEnd\"]()}2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"formGroup\",ctx.ownershipform),core[\"ɵɵadvance\"](13),core[\"ɵɵproperty\"](\"ngClass\",core[\"ɵɵpureFunction1\"](11,_c0,ctx.ownernameSubmit&&ctx.f.ownerName.errors)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx.ownernameSubmit&&ctx.f.ownerName.errors),core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"ngClass\",core[\"ɵɵpureFunction1\"](13,_c0,ctx.businessnameSubmit&&ctx.f.businessName.errors)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx.businessnameSubmit&&ctx.f.businessName.errors),core[\"ɵɵadvance\"](6),core[\"ɵɵproperty\"](\"ngClass\",core[\"ɵɵpureFunction1\"](15,_c0,ctx.ABNnumberSubmit&&ctx.f.ABNnumber.errors)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx.ABNnumberSubmit&&ctx.f.ABNnumber.errors),core[\"ɵɵadvance\"](13),core[\"ɵɵproperty\"](\"ngIf\",ctx.selectedFile&&ctx.selectedFileName),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!ctx.selectedFile&&!ctx.selectedFileName),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngClass\",core[\"ɵɵpureFunction1\"](17,_c0,ctx.checkownershipSubmit&&ctx.f.checkownership.errors)),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngIf\",ctx.checkownershipSubmit&&ctx.f.checkownership.errors))},directives:[fesm2015_forms.u,fesm2015_forms.k,fesm2015_forms.f,fesm2015_forms.b,fesm2015_forms.j,fesm2015_forms.e,common.h,common.j,fesm2015_forms.a],styles:[\".form-header[_ngcontent-%COMP%]{font-family:DM Sans;font-style:normal;font-weight:700;font-size:36px;line-height:48px}.re-send[_ngcontent-%COMP%]{color:#353fa8;background:#fafafa;font-weight:600;border-radius:0}.btn-custom-login[_ngcontent-%COMP%]{color:#fff;background:#353fa8;border-radius:0}.upload-file-btn[_ngcontent-%COMP%]{background:#fafafa;font-weight:600;border-radius:0}.select-file[_ngcontent-%COMP%], .upload-file-btn[_ngcontent-%COMP%]{color:#353fa8;border:2px solid #f2f2f2}.select-file[_ngcontent-%COMP%]{width:160px;text-align:center;float:left;cursor:pointer;font-size:16px;background:#fff}.fnt-14[_ngcontent-%COMP%]{font-size:14px}.select-file.is-invalid[_ngcontent-%COMP%]{border-color:none!important}\"]}),ThirdFormsComponent})()}]);let third_forms_module_ThirdFormsModule=(()=>{class ThirdFormsModule{}return ThirdFormsModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:ThirdFormsModule}),ThirdFormsModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||ThirdFormsModule)},imports:[[common.b,thirdformRouting,fesm2015_forms.p,fesm2015_forms.g]]}),ThirdFormsModule})()}}]);","extractedComments":[]}